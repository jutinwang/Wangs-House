<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Reserve Your Table</title>
    <link rel="stylesheet" href="../css/reservation.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  
  <body>
    <nav class="navbar navbar-expand-lg navbar-transparent bg-transparent w-100 fixed-top">
      <div class="container">
        <a class="navbar-brand text-warning fw-bold fs-2" href="index.html">Wang's</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
          <ul class="navbar-nav gap-3">
            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="aboutus.html">About Us</a></li>
            <li class="nav-item"><a class="nav-link" href="menu.html">The Menu</a></li>
            <li class="nav-item"><a class="nav-link" href="location.html">Location</a></li>
            <li class="nav-item"><a class="nav-link" href="contact.html">Contact Us</a></li>
          </ul>
        </div>

        <a href="reservation.html" class="btn btn-outline-warning text-white">Make Reservation</a>
      </div>
    </nav>

    <div class="reservationContainer">
      <div class="reservationBox">
        <h1 class="reservationTitle">Reserve Your Table</h1>
        <p class="reservationSubtitle">Reserve your spot in paradise today</p>
        <p class="reservationText">Book your time here</p>

        <form class="reservationForm">
          <div class="inputRow">
            <input type="text" placeholder="1 Person" class="inputField">
            <input type="date" placeholder="Date" class="inputField">
            <input type="time" placeholder="Time" class="inputField">
          </div>

          <div class="inputRow">
            <input type="text" placeholder="Name" class="inputField">
            <input type="tel" placeholder="Phone" class="inputField">
            <input type="email" placeholder="Email" class="inputField">
          </div>

          <button type="submit" class="reserveBtn">Reserve Now</button>
        </form>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
          const form = document.querySelector(".reservationForm");
          const container = document.querySelector(".reservationContainer");

          form.addEventListener("submit", function (event) {
              event.preventDefault();

              // Collecting form values
              const name = form.querySelector("input[placeholder='Name']").value || "Name";
              const person = form.querySelector("input[placeholder='1 Person']").value || "1 Person";
              const date = form.querySelector("input[type='date']").value || "Date";
              const time = form.querySelector("input[type='time']").value || "Time";

              // Creating a random confirmation code
              const confirmationCode = "HRP" + Math.random().toString(36).substr(2, 8).toUpperCase();

              // Replacing the content with the confirmation screen
              container.innerHTML = `
                  <div class="confirmationContainer">
                      <div class="confirmationMessageBox">
                          <img src="../images/check.png" alt="Check Icon" width="90">
                          <h3 class="confirmText">Confirmed!</h3>
                          <p class="confirmText">#${confirmationCode}</p>
                          <p class="confirmText">Thank you for booking ${name}.</p>
                          <p class="confirmText">Your table for ${person} at ${time} on ${date} IS CONFIRMED.</p>
                          <p class="confirmText">See you soon!</p>
                          <button id="reserveAgainBtn" class="reserveAgainBtn">Reserve Again</button>
                      </div>
                  </div>
              `;

              // Re-attach event listener to "Reserve Again" button
              document.getElementById("reserveAgainBtn").addEventListener("click", function () {
                  location.reload(); // Reload the page to reset the form
              });
          });
      });
    </script>
  </body>
</html>
